## გადახდის გრაფიკის ბიზნეს ლოგიკა

- Start Date - თარიღი როცა სტუდენტი იწყებს სწავლას
- Last Payment Date - ბოლო გადახდის დღე. ბოლო გადახდის დღე Enrollment - ის შექმნისას იგივეა რაც Start Date (იმის მიუხედავად რომ ტრანზაქციის თარიღ შეიძლება იყოს განსხვავებული).

### ჩამოჭრის ზოგადი ლოგიკა
გადახდების ავტომატური სისტემა მუშაობს 30 დღიანი ციკლით. სტუდენტებს სწავლის საფასური უნდა ჩამოეჭრათ ყოველ 30 დღეში. 

### ავტომატური გადახდის სისტემის მუშაობის პრინციპი
1. სისტემა დღეში ერთხელ გამოითვლის რა თარიღი იყო მიმდინარე დღიდან 30 დღით უკან.
2. მონაცემთა ბაზაში მოიძებნება ის Enrollment - ები რომლებსაც Last Payment Date - ემთხვევა გამოთვლილი თარიღს.
3. გაიგზავნებე მოთხოვნა თანხის ჩამოჭრაზე ყველა იმ Enrollment - ისთვის რომელიც დააკმაყოფილებს პუნქტ 2 - ს. 

#### წარმატებული გადახდის სცენარი
1. Last Payment Date - ის გადაწევა 30 დღით.

#### წარუმატებელი გადახდის სცენარი
1. თუ Last Payment Date - დან გასულია 35 დღეზე მეტი, ანუ გადახდა ვერ ხერხდება უკვე 5 დღეა, მაშინ Enrollment - ის სტატუსი უნდა გაუქმდეს (Cancelled).

	/enrollments?last_payment_date=92384092&operator=lt

